services:
  # GoProxy OpenHands - Port 8004
  goproxy-openhands:
    build:
      context: ./goproxy
      dockerfile: Dockerfile
    ports:
      - "8004:8004"
    volumes:
      - ./goproxy/config-openhands-prod.json:/app/config.json:ro
    env_file:
      - ./.env
    restart: unless-stopped
    networks:
      - test-network

  # GoProxy OhMyGPT - Port 8005
  goproxy-ohmygpt:
    build:
      context: ./goproxy
      dockerfile: Dockerfile
    ports:
      - "8005:8005"
    volumes:
      - ./goproxy/config-ohmygpt-prod.json:/app/config.json:ro
    env_file:
      - ./.env
    restart: unless-stopped
    networks:
      - test-network

networks:
  test-network:
    driver: bridge
